import{s as q,d as E,n as k,o as F,v as H}from"./scheduler.e7n1CwD9.mjs";import{S as R,i as T,e as U,g as W,h as p,n as S,o as B,p as I}from"./index.Oie5Q__I.mjs";import{c as N}from"./createWindowEventStore.Kt1z9Iiq.mjs";const O=(a,n)=>{const r=n??document.body;return r.appendChild(a),a.hidden=!1,{destroy:()=>{r.contains(a)&&r.removeChild(a)}}},P=N("resize");function Y(a){let n,r,i;return{c(){n=U("canvas"),this.h()},l(s){n=W(s,"CANVAS",{class:!0}),p(n).forEach(S),this.h()},h(){B(n,"class","pointer-events-none fixed inset-0 z-50")},m(s,l){I(s,n,l),a[10](n),r||(i=E(O.call(null,n)),r=!0)},p:k,i:k,o:k,d(s){s&&S(n),a[10](null),r=!1,i()}}}const D=4;function G(a,n,r){let i=null,s=null,l=[],c=!1,h=0,{autoStart:f=!1}=n,{confettiCount:m=450}=n,{gravity:y=.8}=n,{terminalVelocity:g=5}=n,{drag:x=.075}=n,{colors:u=[{front:"red",back:"darkred"},{front:"green",back:"darkgreen"},{front:"blue",back:"darkblue"},{front:"yellow",back:"darkyellow"},{front:"orange",back:"darkorange"},{front:"pink",back:"darkpink"},{front:"purple",back:"darkpurple"},{front:"turquoise",back:"darkturquoise"}]}=n,{emojis:d=["ðŸ˜","ðŸ¤©","ðŸ˜","ðŸ˜˜","ðŸ˜Ž","ðŸ˜ƒ","ðŸ¤–","ðŸ”¥","ðŸ¤ª","â¤ï¸","ðŸ‘€"]}=n;const w=()=>{c||(s=(i==null?void 0:i.getContext("2d"))??null,c=!!s,c&&(C(),j(),v()))},M=()=>{c=!1,window.cancelAnimationFrame(h)},C=()=>{i&&(r(0,i.width=window.innerWidth,i),r(0,i.height=window.innerHeight,i))},o=(t,e)=>Math.random()*(e-t)+t,j=()=>{if(i)for(let t=0;t<m;t++){const e=o(40,60);l.push({color:u[~~o(0,u.length)],emoji:d[~~o(0,d.length)],dimensions:{x:~~e,y:~~e},position:{x:o(0,i.width),y:i.height-1},rotation:o(0,2*Math.PI),scale:{x:1,y:1},velocity:{x:o(-25,25),y:o(0,-50)}})}},v=()=>{if(s&&i){const t=[];s.clearRect(0,0,i.width,i.height),s.textAlign="left",s.textBaseline="bottom",s.font="40px sans-serif",l.forEach((e,J)=>{if(s&&i){let _=~~(e.dimensions.x*1),b=~~(e.dimensions.y*1);if(e.velocity.x-=e.velocity.x*x,e.velocity.y=Math.min(e.velocity.y+y,g),e.velocity.x+=Math.random()>.5?Math.random():-Math.random(),e.position.x+=e.velocity.x,e.position.y+=e.velocity.y,e.position.y>=i.height+b)return;t.push(e),e.position.x>i.width?e.position.x=0:e.position.x<-_&&(e.position.x=i.width),s.translate(~~e.position.x,~~e.position.y);const A=-_/2,V=-b/2;s.font=`${b}px sans-serif`,s.fillText(e.emoji,A,-V+D),s.setTransform(1,0,0,1,0,0)}}),l=t,h=window.requestAnimationFrame(v)}};F(()=>{f&&w();const t=P.subscribe(C);return()=>{window.cancelAnimationFrame(h),t()}});function z(t){H[t?"unshift":"push"](()=>{i=t,r(0,i)})}return a.$$set=t=>{"autoStart"in t&&r(1,f=t.autoStart),"confettiCount"in t&&r(2,m=t.confettiCount),"gravity"in t&&r(3,y=t.gravity),"terminalVelocity"in t&&r(4,g=t.terminalVelocity),"drag"in t&&r(5,x=t.drag),"colors"in t&&r(6,u=t.colors),"emojis"in t&&r(7,d=t.emojis)},[i,f,m,y,g,x,u,d,w,M,z]}class X extends R{constructor(n){super(),T(this,n,G,Y,q,{autoStart:1,confettiCount:2,gravity:3,terminalVelocity:4,drag:5,colors:6,emojis:7,start:8,stop:9})}get start(){return this.$$.ctx[8]}get stop(){return this.$$.ctx[9]}}export{X as H};

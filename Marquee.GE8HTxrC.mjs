import{s as le,d as ie,n as ge,l as ae,a as ye,u as be,g as we,b as pe,p as Q}from"./scheduler.e7n1CwD9.mjs";import{S as De,i as Re,e as z,g as I,h as N,n as D,y as X,p as W,u as re,b as E,v as ce,t as p,o as j,A as Z,w as Me,s as ke,k as Ee,q as Le}from"./index.Oie5Q__I.mjs";import{e as U}from"./each.uyb0IYv3.mjs";import{c as x}from"./Media.QcmNVBvt.mjs";import{p as He}from"./pxToRem.a0ivkAn0.mjs";import{t as Oe}from"./throttleRaf.UC5HmhLb.mjs";import{e as Se}from"./index.xnCTjtSu.mjs";import{a as qe}from"./animate.es.BqG1upb8.mjs";const Te=(n,t)=>{let l;return(...f)=>{l&&clearTimeout(l),l=setTimeout(()=>{l=null,n(...f)},t)}};function $(n){const t=Object.prototype.toString.call(n);return n instanceof Date||typeof n=="object"&&t==="[object Date]"?new n.constructor(+n):typeof n=="number"||t==="[object Number]"||typeof n=="string"||t==="[object String]"?new Date(n):new Date(NaN)}function Ce(n,t){return+$(n)-+$(t)}function ee(n,t,l){const c=n.slice();c[18]=t[l],c[21]=l;const f=c[21]>0;return c[19]=f,c}const je=n=>({}),te=n=>({copy:n[19]});function ne(n){let t,l,c;const f=n[16].default,r=ye(f,n,n[15],te);return{c(){t=z("div"),r&&r.c(),l=ke(),this.h()},l(e){t=I(e,"DIV",{class:!0,"aria-hidden":!0});var i=N(t);r&&r.l(i),l=Ee(i),i.forEach(D),this.h()},h(){j(t,"class",ae(n[6])+" svelte-huphtk"),j(t,"aria-hidden",n[19]||null)},m(e,i){W(e,t,i),r&&r.m(t,null),Le(t,l),c=!0},p(e,i){r&&r.p&&(!c||i&32768)&&be(r,f,e,e[15],c?pe(f,e[15],i,je):we(e[15]),te)},i(e){c||(p(r,e),c=!0)},o(e){E(r,e),c=!1},d(e){e&&D(t),r&&r.d(e)}}}function se(n){let t,l,c,f,r=U(new Array(n[1])),e=[];for(let s=0;s<r.length;s+=1)e[s]=ne(ee(n,r,s));const i=s=>E(e[s],1,1,()=>{e[s]=null});return{c(){t=z("div");for(let s=0;s<e.length;s+=1)e[s].c();this.h()},l(s){t=I(s,"DIV",{class:!0});var u=N(t);for(let a=0;a<e.length;a+=1)e[a].l(u);u.forEach(D),this.h()},h(){j(t,"class",ae(n[5])+" svelte-huphtk"),Z(t,"flex-col",n[0]==="vertical")},m(s,u){W(s,t,u);for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(t,null);l=!0,c||(f=ie(n[3].call(null,t)),c=!0)},p(s,u){if(u&32834){r=U(new Array(s[1]));let a;for(a=0;a<r.length;a+=1){const v=ee(s,r,a);e[a]?(e[a].p(v,u),p(e[a],1)):(e[a]=ne(v),e[a].c(),p(e[a],1),e[a].m(t,null))}for(re(),a=r.length;a<e.length;a+=1)i(a);ce()}(!l||u&1)&&Z(t,"flex-col",s[0]==="vertical")},i(s){if(!l){for(let u=0;u<r.length;u+=1)p(e[u]);l=!0}},o(s){e=e.filter(Boolean);for(let u=0;u<e.length;u+=1)E(e[u]);l=!1},d(s){s&&D(t),Me(e,s),c=!1,f()}}}function ze(n){let t,l=n[1],c,f,r,e=se(n);return{c(){t=z("div"),e.c(),this.h()},l(i){t=I(i,"DIV",{});var s=N(t);e.l(s),s.forEach(D),this.h()},h(){X(t,"--gap-m",n[2][0]),X(t,"--gap-d",n[2][1]??n[2][0])},m(i,s){W(i,t,s),e.m(t,null),c=!0,f||(r=ie(n[4].call(null,t)),f=!0)},p(i,[s]){s&2&&le(l,l=i[1])?(re(),E(e,1,1,ge),ce(),e=se(i),e.c(),p(e,1),e.m(t,null)):e.p(i,s)},i(i){c||(p(e),c=!0)},o(i){E(e),c=!1},d(i){i&&D(t),e.d(i),f=!1,r()}}}const oe=2;function Ie(n,t,l){let{$$slots:c={},$$scope:f}=t,{gap:r="0"}=t,{orientation:e="horizontal"}=t,{reverse:i=!1}=t,{playRate:s=1}=t,{slowOnHover:u=!0}=t,{canDrag:a=!0}=t,{hoverPlayRate:v=.25}=t,{resistance:L=.75}=t,{sensitivity:S=2}=t;const A=800*L,ue=r.split("|").map(o=>`${He(o)}rem`);let P=oe;const fe=o=>{const g=Array.from(o.children);if(!g.length)return;const H=g[0],q=e==="vertical"?H.scrollHeight:H.scrollWidth,O=qe(g,e==="vertical"?{y:i?["-100%",0]:[0,"-100%"]}:{x:i?["-100%",0]:[0,"-100%"]},{duration:(q??0)/(s*50),easing:"linear",repeat:1/0});O.currentTime=1e5;let d=!1,y=!1,_=1,h=1,m=1,b=null;const T=R=>{const{easing:M=Se}=R;b==null||b();let k=!1;const _e=new Date().getTime(),w=Math.abs(R.rate),C=Math.max(A,A*Math.pow(w,1-L)),G=Oe(()=>{if(k)return;const J=Ce(new Date().getTime(),_e);if(J<C){const ve=h>w,K=M(1-(C-J)/C);ve?m=Math.min(h,w+K*(h-w))*_:m=Math.max(h,w-K*(w-h))*_,G()}else m=h*_,d||(y=!1);O.playbackRate=m});G(),b=()=>{k=!0}},V=()=>{h=v,!y&&T({rate:m,easing:Q})},Y=()=>{h=1,!y&&T({rate:m,easing:Q})},B=R=>{const M=Math.abs(R.movementY),k=(R.movementY>0?-1:1)*(i?-1:1);M<=S||M<=Math.abs(m)&&_===k||(_=k,T({rate:M}))},F=()=>{d=!0,y=!0,document.body.style.userSelect="none",document.addEventListener("mousemove",B),document.addEventListener("mouseup",()=>{document.removeEventListener("mousemove",B),document.body.style.userSelect="",d=!1},{once:!0})};return u&&(o.addEventListener("mouseenter",V),o.addEventListener("mouseleave",Y)),a&&o.addEventListener("mousedown",F),{destroy(){u&&(o.removeEventListener("mouseenter",V),o.removeEventListener("mouseleave",Y)),a&&o.removeEventListener("mousedown",F)}}},he=o=>{const g=new ResizeObserver(Te(()=>{const H=o.clientHeight,q=o.clientWidth,O=e==="horizontal"?q:H,d=o.querySelector("._marquee");if(d){const y=d.clientHeight,_=d.clientWidth,h=e==="horizontal"?_:y,m=O*2,b=Math.ceil(m/h);l(1,P=Math.max(oe,b))}},100));return g.observe(document.body),{destroy(){g.disconnect()}}},me=x("_marquee-ctn flex size-full overflow-hidden",e==="vertical"?"h-full flex-col":"w-full"),de=x("_marquee shrink-0",e==="vertical"?"pt-[--gap]":"pr-[--gap]");return n.$$set=o=>{"gap"in o&&l(7,r=o.gap),"orientation"in o&&l(0,e=o.orientation),"reverse"in o&&l(8,i=o.reverse),"playRate"in o&&l(9,s=o.playRate),"slowOnHover"in o&&l(10,u=o.slowOnHover),"canDrag"in o&&l(11,a=o.canDrag),"hoverPlayRate"in o&&l(12,v=o.hoverPlayRate),"resistance"in o&&l(13,L=o.resistance),"sensitivity"in o&&l(14,S=o.sensitivity),"$$scope"in o&&l(15,f=o.$$scope)},[e,P,ue,fe,he,me,de,r,i,s,u,a,v,L,S,f,c]}class Ge extends De{constructor(t){super(),Re(this,t,Ie,ze,le,{gap:7,orientation:0,reverse:8,playRate:9,slowOnHover:10,canDrag:11,hoverPlayRate:12,resistance:13,sensitivity:14})}}export{Ge as M};

import{n as N,p as P,l as U}from"./array.BlkDxbNC.mjs";import{m as k,d as w,e as F,a as A,b as L,c as R,i as C,g as W,k as x}from"./action.c33mcjQb.mjs";import{t as z,o as j,a as G}from"./create.iQzsxump.mjs";import{w as J}from"./entry.EFDYqbg4.mjs";import{s as Q,h as X,d as Y,n as V,y as I}from"./scheduler.e7n1CwD9.mjs";import{S as Z,i as $,e as tt,f as et,g as rt,h as st,l as at,n as K,K as M,A as D,p as nt,q as it,L as ot}from"./index.Oie5Q__I.mjs";import{g as lt}from"./HtmlLink.nzJ1WeE8.mjs";function ut(a){return window.getComputedStyle(a).getPropertyValue("direction")}const ct={orientation:"horizontal",activateOnFocus:!0,loop:!0,autoSet:!0},{name:S,selector:dt}=R("tabs");function Tt(a){const e={...ct,...a},n=z(j(e,"defaultValue","value","onValueChange","autoSet")),{orientation:l,activateOnFocus:f,loop:c}=n,u=e.value??J(e.defaultValue),r=G(u,e==null?void 0:e.onValueChange);let i=e.defaultValue??r.get();const p=k(S(),{stores:l,returned:t=>({"data-orientation":t})}),v=k(S("list"),{stores:l,returned:t=>({role:"tablist","aria-orientation":t,"data-orientation":t})}),E=t=>typeof t=="string"?{value:t}:t,g=k(S("trigger"),{stores:[r,l],returned:([t,_])=>s=>{const{value:o,disabled:b}=E(s);!t&&!i&&e.autoSet&&(i=o,t=o,r.set(o));const y=(L?t:i)===o;return{type:"button",role:"tab","data-state":y?"active":"inactive",tabindex:y?0:-1,"data-value":o,"data-orientation":_,"data-disabled":w(b),disabled:w(b)}},action:t=>({destroy:F(A(t,"focus",()=>{const s=t.dataset.disabled==="true",o=t.dataset.value;f.get()&&!s&&o!==void 0&&r.set(o)}),A(t,"click",s=>{if(t.focus(),s.preventDefault(),t.dataset.disabled==="true")return;const b=t.dataset.value;t.focus(),b!==void 0&&r.set(b)}),A(t,"keydown",s=>{const o=t.dataset.value;if(!o)return;const b=s.currentTarget;if(!C(b))return;const T=b.closest(dt());if(!C(T))return;const y=c.get(),h=Array.from(T.querySelectorAll('[role="tab"]')).filter(d=>C(d)).filter(d=>!d.hasAttribute("data-disabled")),O=h.findIndex(d=>d===s.target),q=ut(T),{nextKey:B,prevKey:H}=W(q,l.get());s.key===B?(s.preventDefault(),N(h,O,y).focus()):s.key===H?(s.preventDefault(),P(h,O,y).focus()):s.key===x.ENTER||s.key===x.SPACE?(s.preventDefault(),r.set(o)):s.key===x.HOME?(s.preventDefault(),h[0].focus()):s.key===x.END&&(s.preventDefault(),U(h).focus())}))})}),m=k(S("content"),{stores:r,returned:t=>_=>({role:"tabpanel","aria-labelledby":_,hidden:L?t===_?void 0:!0:i===_?void 0:!0,tabindex:0})});return{elements:{root:p,list:v,trigger:g,content:m},states:{value:r},options:n}}function ft(a){let e,n,l,f,c=[{class:"_tab-button h-24 flex-1 rounded-[.7rem] border-1 border-transparent text-12 font-medium tracking-20"},a[4]],u={};for(let r=0;r<c.length;r+=1)u=X(u,c[r]);return{c(){e=tt("button"),n=et(a[1]),this.h()},l(r){e=rt(r,"BUTTON",{class:!0});var i=st(e);n=at(i,a[1]),i.forEach(K),this.h()},h(){M(e,u),D(e,"_selected",a[5]===a[0]),D(e,"svelte-v29nuu",!0)},m(r,i){nt(r,e,i),it(e,n),e.autofocus&&e.focus(),l||(f=Y(a[4].action(e)),l=!0)},p(r,[i]){i&2&&ot(n,r[1],u.contenteditable),M(e,u=lt(c,[{class:"_tab-button h-24 flex-1 rounded-[.7rem] border-1 border-transparent text-12 font-medium tracking-20"},i&16&&r[4]])),D(e,"_selected",r[5]===r[0]),D(e,"svelte-v29nuu",!0)},i:V,o:V,d(r){r&&K(e),l=!1,f()}}}function bt(a,e,n){let l,f,c=V,u=()=>(c(),c=I(g,t=>n(6,f=t)),g),r,i=V,p=()=>(i(),i=I(m,t=>n(5,r=t)),m);a.$$.on_destroy.push(()=>c()),a.$$.on_destroy.push(()=>i());let{id:v}=e,{title:E}=e,{trigger:g}=e;u();let{value:m}=e;return p(),a.$$set=t=>{"id"in t&&n(0,v=t.id),"title"in t&&n(1,E=t.title),"trigger"in t&&u(n(2,g=t.trigger)),"value"in t&&p(n(3,m=t.value))},a.$$.update=()=>{a.$$.dirty&65&&n(4,l=f(v))},[v,E,g,m,l,r,f]}class kt extends Z{constructor(e){super(),$(this,e,bt,ft,Q,{id:0,title:1,trigger:2,value:3})}}export{kt as T,Tt as c};

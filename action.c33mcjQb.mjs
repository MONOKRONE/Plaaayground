import{r as A,d as g,w as O}from"./entry.EFDYqbg4.mjs";import{j as y,o as w,L as T}from"./scheduler.e7n1CwD9.mjs";function L(...e){return(...n)=>{for(const t of e)typeof t=="function"&&t(...n)}}function l(){}const P=typeof document<"u",h=e=>typeof e=="function";function j(e){return e instanceof Element}function E(e){return e instanceof HTMLElement}function v(e){return e!==null&&typeof e=="object"}function C(e){return v(e)&&"subscribe"in e}function F(e,n,t,s){const o=Array.isArray(n)?n:[n];return o.forEach(r=>e.addEventListener(r,t,s)),()=>{o.forEach(r=>e.removeEventListener(r,t,s))}}function z(e,n,t,s){const o=Array.isArray(n)?n:[n];if(typeof t=="function"){const r=S(c=>t(c));return o.forEach(c=>e.addEventListener(c,r,s)),()=>{o.forEach(c=>e.removeEventListener(c,r,s))}}return()=>void 0}function $(e){const n=e.currentTarget;if(!E(n))return null;const t=new CustomEvent(`m-${e.type}`,{detail:{originalEvent:e},cancelable:!0});return n.dispatchEvent(t),t}function S(e){return n=>{const t=$(n);if(!(t!=null&&t.defaultPrevented))return e(n)}}const W=A(void 0,e=>{function n(s){e(s),e(void 0)}return F(document,"pointerup",n,{passive:!1,capture:!0})}),B=(e,n={})=>{let t={enabled:!0,...n};function s(){return typeof t.enabled=="boolean"?t.enabled:y(t.enabled)}const o=W.subscribe(r=>{var i;if(!s()||!r||r.target===e)return;const c=r.composedPath();if(!c.includes(e)){if(t.ignore){if(h(t.ignore)){if(t.ignore(r))return}else if(Array.isArray(t.ignore)&&t.ignore.length>0&&t.ignore.some(u=>u&&(r.target===u||c.includes(u))))return}(i=t.handler)==null||i.call(t,r)}});return{update(r){t={...t,...r}},destroy(){o()}}};function _(e){return Object.keys(e).reduce((n,t)=>e[t]===void 0?n:n+`${t}:${e[t]};`,"")}function U(e){return e?!0:void 0}_({position:"absolute",opacity:0,"pointer-events":"none",margin:0,transform:"translateX(-100%)"});function q(e){if(e!==null)return e}function m(e){function n(t){return t(e),()=>{}}return{subscribe:n}}function x(e){if(!P)return null;const n=document.querySelector(`[data-melt-id="${e}"]`);return E(n)?n:null}const b=e=>new Proxy(e,{get(n,t,s){return Reflect.get(n,t,s)},ownKeys(n){return Reflect.ownKeys(n).filter(t=>t!=="action")}}),p=e=>typeof e=="function";M("empty");function M(e,n){const{stores:t,action:s,returned:o}=n??{},r=(()=>{if(t&&o)return g(t,i=>{const u=o(i);if(p(u)){const a=(...f)=>b({...u(...f),[`data-melt-${e}`]:"",action:s??l});return a.action=s??l,a}return b({...u,[`data-melt-${e}`]:"",action:s??l})});{const i=o,u=i==null?void 0:i();if(p(u)){const a=(...f)=>b({...u(...f),[`data-melt-${e}`]:"",action:s??l});return a.action=s??l,m(a)}return m(b({...u,[`data-melt-${e}`]:"",action:s??l}))}})(),c=s??(()=>{});return c.subscribe=r.subscribe,c}function X(e){const n=r=>r?`${e}-${r}`:e,t=r=>`data-melt-${e}${r?`-${r}`:""}`,s=r=>`[data-melt-${e}${r?`-${r}`:""}]`;return{name:n,attribute:t,selector:s,getEl:r=>document.querySelector(s(r))}}function R(e){return{...e,get:()=>y(e)}}R.writable=function(e){const n=O(e);let t=e;return{subscribe:n.subscribe,set(s){n.set(s),t=s},update(s){const o=s(t);n.set(o),t=o},get(){return t}}};R.derived=function(e,n){const t=new Map,s=()=>{const r=Array.isArray(e)?e.map(c=>c.get()):e.get();return n(r)};return{get:s,subscribe:r=>{const c=[];return(Array.isArray(e)?e:[e]).forEach(u=>{c.push(u.subscribe(()=>{r(s())}))}),r(s()),t.set(r,c),()=>{const u=t.get(r);if(u)for(const a of u)a();t.delete(r)}}}};const d={ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",A:"a",P:"p"},k=(e="ltr",n="horizontal")=>({horizontal:e==="rtl"?d.ARROW_LEFT:d.ARROW_RIGHT,vertical:d.ARROW_DOWN})[n],D=(e="ltr",n="horizontal")=>({horizontal:e==="rtl"?d.ARROW_RIGHT:d.ARROW_LEFT,vertical:d.ARROW_UP})[n],J=(e="ltr",n="horizontal")=>({nextKey:k(e,n),prevKey:D(e,n)}),Q=e=>{try{w(e)}catch{return e}},K=e=>{try{T(e)}catch{return e}};function H(e,n){let t;const s=g(e,r=>{t==null||t(),t=n(r)}).subscribe(l),o=()=>{s(),t==null||t()};return K(o),o}const I=A(void 0,e=>{function n(s){s&&s.key===d.ESCAPE&&e(s),e(void 0)}return F(document,"keydown",n,{passive:!1})}),V=(e,n={})=>{let t=l;function s(o={}){t();const r={enabled:!0,...o},c=C(r.enabled)?r.enabled:A(r.enabled);t=L(I.subscribe(i=>{var a;if(!i||!y(c))return;const u=i.target;if(!(!E(u)||u.closest("[data-escapee]")!==e)){if(i.preventDefault(),r.ignore){if(h(r.ignore)){if(r.ignore(i))return}else if(Array.isArray(r.ignore)&&r.ignore.length>0&&r.ignore.some(f=>f&&u===f))return}(a=r.handler)==null||a.call(r,i)}}),H(c,i=>{i?e.dataset.escapee="":delete e.dataset.escapee}))}return s(n),{update:s,destroy(){e.removeAttribute("data-escapee"),t()}}};export{z as a,P as b,X as c,U as d,L as e,h as f,J as g,j as h,E as i,F as j,d as k,H as l,M as m,l as n,B as o,q as p,x as q,Q as r,_ as s,V as u,R as w};

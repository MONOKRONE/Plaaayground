const m=e=>({stripTags(n){return e=l(e,n),this},newLinesToBr(){return e=f(e),this},removeEmptyTags(){return e=T()(e),this},toString(){return e}}),T=()=>{const n=new Set(["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"]),s=new Set(["iframe","th","td"]),o=/<(?<tag>[a-z0-9]+?)( [^>]+?|)>\s*?<\/(\k<tag>)>|<(?<selfclosingtag>[a-z0-9]+)([^>]+?\/)>/gim,t=(r,g=0)=>{if(!r||g>=2e3)return r;let i=!1;const c=r.replace(o,(...a)=>{const{selfclosingtag:u,tag:p}=a[a.length-1];return s.has(p)||n.has(u)?a[0]:(i=!0,"")});return i?t(c,g+1):r};return t},l=(e,n=[])=>e&&e.replace(/(<([^>]+)>)/gi,s=>{const t=new RegExp(/([^\s^\\/^<^>]+)/gi).exec(s);if(!t)return"";const r=t[0];return n.includes(r)?s:""}),f=e=>e?e.replace(/(\r\n|\r|\n)/g,"<br />"):"";export{m as h};

import{b as B,n as T,e as ct,i as R,h as E,c as lt,p as ut,a as ft,j as et}from"./throttleRaf.UC5HmhLb.mjs";function ht(t,e){t.indexOf(e)===-1&&t.push(e)}function Lt(t,e){const i=t.indexOf(e);i>-1&&t.splice(i,1)}const h={duration:.3,delay:0,endDelay:0,repeat:0,easing:"ease"},it=t=>Array.isArray(t)&&B(t[0]),K=t=>typeof t=="object"&&!!t.createAnimation,P={ms:t=>t*1e3,s:t=>t/1e3},st=(t,e,i)=>(((1-3*i+3*e)*t+(3*i-6*e))*t+3*e)*t,dt=1e-7,pt=12;function mt(t,e,i,s,n){let r,u,l=0;do u=e+(i-e)/2,r=st(u,s,n)-t,r>0?i=u:e=u;while(Math.abs(r)>dt&&++l<pt);return u}function D(t,e,i,s){if(t===e&&i===s)return T;const n=r=>mt(r,0,1,t,i);return r=>r===0||r===1?r:st(n(r),e,s)}const gt=(t,e="end")=>i=>{i=e==="end"?Math.min(i,.999):Math.max(i,.001);const s=i*t,n=e==="end"?Math.floor(s):Math.ceil(s);return ct(0,1,n/t)},H={ease:D(.25,.1,.25,1),"ease-in":D(.42,0,1,1),"ease-in-out":D(.42,0,.58,1),"ease-out":D(0,0,.58,1)},yt=/\((.*?)\)/;function J(t){if(R(t))return t;if(it(t))return D(...t);if(H[t])return H[t];if(t.startsWith("steps")){const e=yt.exec(t);if(e){const i=e[1].split(",");return gt(parseFloat(i[0]),i[1].trim())}}return T}class Nt{constructor(e,i=[0,1],{easing:s,duration:n=h.duration,delay:r=h.delay,endDelay:u=h.endDelay,repeat:l=h.repeat,offset:p,direction:b="normal",autoplay:z=!0}={}){if(this.startTime=null,this.rate=1,this.t=0,this.cancelTimestamp=null,this.easing=T,this.duration=0,this.totalDuration=0,this.repeat=0,this.playState="idle",this.finished=new Promise((a,y)=>{this.resolve=a,this.reject=y}),s=s||h.easing,K(s)){const a=s.createAnimation(i);s=a.easing,i=a.keyframes||i,n=a.duration||n}this.repeat=l,this.easing=E(s)?T:J(s),this.updateDuration(n);const V=lt(i,p,E(s)?s.map(J):T);this.tick=a=>{var y;r=r;let f=0;this.pauseTime!==void 0?f=this.pauseTime:f=(a-this.startTime)*this.rate,this.t=f,f/=1e3,f=Math.max(f-r,0),this.playState==="finished"&&this.pauseTime===void 0&&(f=this.totalDuration);const A=f/this.duration;let F=Math.floor(A),m=A%1;!m&&A>=1&&(m=1),m===1&&F--;const I=F%2;(b==="reverse"||b==="alternate"&&I||b==="alternate-reverse"&&!I)&&(m=1-m);const O=f>=this.totalDuration?1:Math.min(m,1),S=V(this.easing(O));e(S),this.pauseTime===void 0&&(this.playState==="finished"||f>=this.totalDuration+u)?(this.playState="finished",(y=this.resolve)===null||y===void 0||y.call(this,S)):this.playState!=="idle"&&(this.frameRequestId=requestAnimationFrame(this.tick))},z&&this.play()}play(){const e=performance.now();this.playState="running",this.pauseTime!==void 0?this.startTime=e-this.pauseTime:this.startTime||(this.startTime=e),this.cancelTimestamp=this.startTime,this.pauseTime=void 0,this.frameRequestId=requestAnimationFrame(this.tick)}pause(){this.playState="paused",this.pauseTime=this.t}finish(){this.playState="finished",this.tick(0)}stop(){var e;this.playState="idle",this.frameRequestId!==void 0&&cancelAnimationFrame(this.frameRequestId),(e=this.reject)===null||e===void 0||e.call(this,!1)}cancel(){this.stop(),this.tick(this.cancelTimestamp)}reverse(){this.rate*=-1}commitStyles(){}updateDuration(e){this.duration=e,this.totalDuration=e*(this.repeat+1)}get currentTime(){return this.t}set currentTime(e){this.pauseTime!==void 0||this.rate===0?this.pauseTime=e:this.startTime=performance.now()-e/this.rate}get playbackRate(){return this.rate}set playbackRate(e){this.rate=e}}class vt{setAnimation(e){this.animation=e,e==null||e.finished.then(()=>this.clearAnimation()).catch(()=>{})}clearAnimation(){this.animation=this.generator=void 0}}const q=new WeakMap;function nt(t){return q.has(t)||q.set(t,{transforms:[],values:new Map}),q.get(t)}function Tt(t,e){return t.has(e)||t.set(e,new vt),t.get(e)}const bt=["","X","Y","Z"],At=["translate","scale","rotate","skew"],_={x:"translateX",y:"translateY",z:"translateZ"},Q={syntax:"<angle>",initialValue:"0deg",toDefaultUnit:t=>t+"deg"},St={translate:{syntax:"<length-percentage>",initialValue:"0px",toDefaultUnit:t=>t+"px"},rotate:Q,scale:{syntax:"<number>",initialValue:1,toDefaultUnit:T},skew:Q},M=new Map,Z=t=>`--motion-${t}`,$=["x","y","z"];At.forEach(t=>{bt.forEach(e=>{$.push(t+e),M.set(Z(t+e),St[t])})});const wt=(t,e)=>$.indexOf(t)-$.indexOf(e),Ot=new Set($),at=t=>Ot.has(t),xt=(t,e)=>{_[e]&&(e=_[e]);const{transforms:i}=nt(t);ht(i,e),t.style.transform=Dt(i)},Dt=t=>t.sort(wt).reduce(Et,"").trim(),Et=(t,e)=>`${t} ${e}(var(${Z(e)}))`,W=t=>t.startsWith("--"),Y=new Set;function Pt(t){if(!Y.has(t)){Y.add(t);try{const{syntax:e,initialValue:i}=M.has(t)?M.get(t):{};CSS.registerProperty({name:t,inherits:!1,syntax:e,initialValue:i})}catch{}}}const L=(t,e)=>document.createElement("div").animate(t,e),k={cssRegisterProperty:()=>typeof CSS<"u"&&Object.hasOwnProperty.call(CSS,"registerProperty"),waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate"),partialKeyframes:()=>{try{L({opacity:[1]})}catch{return!1}return!0},finished:()=>!!L({opacity:[0,1]},{duration:.001}).finished,linearEasing:()=>{try{L({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0}},N={},w={};for(const t in k)w[t]=()=>(N[t]===void 0&&(N[t]=k[t]()),N[t]);const Rt=.015,Mt=(t,e)=>{let i="";const s=Math.round(e/Rt);for(let n=0;n<s;n++)i+=t(ut(0,s-1,n))+", ";return i.substring(0,i.length-2)},tt=(t,e)=>R(t)?w.linearEasing()?`linear(${Mt(t,e)})`:h.easing:it(t)?Vt(t):t,Vt=([t,e,i,s])=>`cubic-bezier(${t}, ${e}, ${i}, ${s})`;function Ft(t,e){for(let i=0;i<t.length;i++)t[i]===null&&(t[i]=i?t[i-1]:e());return t}const It=t=>Array.isArray(t)?t:[t];function X(t){return _[t]&&(t=_[t]),at(t)?Z(t):t}const U={get:(t,e)=>{e=X(e);let i=W(e)?t.style.getPropertyValue(e):getComputedStyle(t)[e];if(!i&&i!==0){const s=M.get(e);s&&(i=s.initialValue)}return i},set:(t,e,i)=>{e=X(e),W(e)?t.style.setProperty(e,i):t.style[e]=i}};function rt(t,e=!0){if(!(!t||t.playState==="finished"))try{t.stop?t.stop():(e&&t.commitStyles(),t.cancel())}catch{}}function jt(t,e){var i;let s=(e==null?void 0:e.toDefaultUnit)||T;const n=t[t.length-1];if(ft(n)){const r=((i=n.match(/(-?[\d.]+)([a-z%]*)/))===null||i===void 0?void 0:i[2])||"";r&&(s=u=>u+r)}return s}function Ct(){return window.__MOTION_DEV_TOOLS_RECORD}function Bt(t,e,i,s={},n){const r=Ct(),u=s.record!==!1&&r;let l,{duration:p=h.duration,delay:b=h.delay,endDelay:z=h.endDelay,repeat:V=h.repeat,easing:a=h.easing,persist:y=!1,direction:f,offset:A,allowWebkitAcceleration:F=!1,autoplay:m=!0}=s;const I=nt(t),O=at(e);let S=w.waapi();O&&xt(t,e);const d=X(e),j=Tt(I.values,d),g=M.get(d);return rt(j.animation,!(K(a)&&j.generator)&&s.record!==!1),()=>{const C=()=>{var o,x;return(x=(o=U.get(t,d))!==null&&o!==void 0?o:g==null?void 0:g.initialValue)!==null&&x!==void 0?x:0};let c=Ft(It(i),C);const G=jt(c,g);if(K(a)){const o=a.createAnimation(c,e!=="opacity",C,d,j);a=o.easing,c=o.keyframes||c,p=o.duration||p}if(W(d)&&(w.cssRegisterProperty()?Pt(d):S=!1),O&&!w.linearEasing()&&(R(a)||E(a)&&a.some(R))&&(S=!1),S){g&&(c=c.map(v=>B(v)?g.toDefaultUnit(v):v)),c.length===1&&(!w.partialKeyframes()||u)&&c.unshift(C());const o={delay:P.ms(b),duration:P.ms(p),endDelay:P.ms(z),easing:E(a)?void 0:tt(a,p),direction:f,iterations:V+1,fill:"both"};l=t.animate({[d]:c,offset:A,easing:E(a)?a.map(v=>tt(v,p)):void 0},o),l.finished||(l.finished=new Promise((v,ot)=>{l.onfinish=v,l.oncancel=ot}));const x=c[c.length-1];l.finished.then(()=>{y||(U.set(t,d,x),l.cancel())}).catch(et),F||(l.playbackRate=1.000001)}else if(n&&O)c=c.map(o=>typeof o=="string"?parseFloat(o):o),c.length===1&&c.unshift(parseFloat(C())),l=new n(o=>{U.set(t,d,G?G(o):o)},c,Object.assign(Object.assign({},s),{duration:p,easing:a}));else{const o=c[c.length-1];U.set(t,d,g&&B(o)?g.toDefaultUnit(o):o)}return u&&r(t,e,c,{duration:p,delay:b,easing:a,repeat:V,offset:A},"motion-one"),j.setAnimation(l),l&&!m&&l.pause(),l}}const Kt=(t,e)=>t[e]?Object.assign(Object.assign({},t),t[e]):Object.assign({},t),Ut=t=>t(),Wt=(t,e,i=h.duration)=>new Proxy({animations:t.map(Ut).filter(Boolean),duration:i,options:e},$t),_t=t=>t.animations[0],$t={get:(t,e)=>{const i=_t(t);switch(e){case"duration":return t.duration;case"currentTime":return P.s((i==null?void 0:i[e])||0);case"playbackRate":case"playState":return i==null?void 0:i[e];case"finished":return t.finished||(t.finished=Promise.all(t.animations.map(zt)).catch(et)),t.finished;case"stop":return()=>{t.animations.forEach(s=>rt(s))};case"forEachNative":return s=>{t.animations.forEach(n=>s(n,t))};default:return typeof(i==null?void 0:i[e])>"u"?void 0:()=>t.animations.forEach(s=>s[e]())}},set:(t,e,i)=>{switch(e){case"currentTime":i=P.ms(i);case"playbackRate":for(let s=0;s<t.animations.length;s++)t.animations[s][e]=i;return!0}return!1}},zt=t=>t.finished;function Xt(t,e,i){return R(t)?t(e,i):t}export{Nt as A,Bt as a,Lt as b,h as d,Kt as g,K as i,It as k,Xt as r,Wt as w};
